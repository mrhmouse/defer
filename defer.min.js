(function(){var n,t,e=[].slice,r={}.hasOwnProperty;t=require("events").EventEmitter,n={chain:function(){var t;return t=arguments.length>=1?e.call(arguments,0):[],n.each(t,function(){return this()})},each:function(n,e,r){var i,u,c;return u=0,c=n.length,i=new t,i.on("next",function(){var t=this;if(c>u){if(e.call(n[u],u===!1))return;return u+=1,process.nextTick(function(){return t.emit("next")})}return"function"==typeof r?r():void 0}),i.emit("next")},"while":function(n,e,r){var i;return i=new t,i.on("next",function(){var t=this;return n()?(e(),process.nextTick(function(){return t.emit("next")})):"function"==typeof r?r():void 0}),i.emit("next")},forEachOf:function(t,e,i){var u,c,o;return c=function(){var n;n=[];for(u in t)r.call(t,u)&&(o=t[u],n.push(u));return n}(),n.each(c,function(){return e.call(t[this],this,t[this])},i)}},module.exports=n}).call(this);